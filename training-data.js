// Расширенная база знаний и факты для обучения нейронки
// Включает 5 основных писателей + введение в мировую литературу
export const trainingData = {
  pushkin: {
    dates: {
      'Евгений Онегин': { written: '1823-1833', published: 1833 },
      'Пиковая дама': { written: '1833', published: 1834 },
      'Борис Годунов': { written: '1824-1825', published: 1831 },
      'Мцыри': { written: '1821', published: 1828 },
      'Руслан и Людмила': { written: '1818-1820', published: 1820 },
      'Капитанская дочка': { written: '1833', published: 1836 },
      'Медный всадник': { written: '1833', published: 1834 },
    },
    characters: {
      'Евгений Онегин': ['Евгений Онегин', 'Татьяна Ларина', 'Владимир Ленский', 'Ольга'],
      'Пиковая дама': ['Герман', 'Нарумов', 'Графиня', 'Лизавета'],
      'Капитанская дочка': ['Петр Гринев', 'Маша Миронова', 'Емельян Пугачев'],
    },
    detailedFacts: [
      'Пушкин родился 6 июня 1799 года в Москве',
      'Дорогие дуэли: встречался с Кюхельбекером, погиб на дуэли с Д\'Антесом в 1837 году',
      'Лицей: учился в Царскосельском лицее (1811-1817) вместе с Иван Пущиным',
      'Ссылка: был сослан на Кавказ и Бессарабию за либеральные взгляды',
      'Языкотворец: создал нормы современного русского литературного языка',
      'Онегин - роман в стихах, 389 строф, завершён за 8 лет работы',
      'Борис Годунов написан историческим стихом, спровоцировано Карамзиным',
    ]
  },

  tolstoy: {
    dates: {
      'Война и мир': { written: '1865-1867', published: 1869 },
      'Анна Каренина': { written: '1877', published: 1877 },
      'Воскресенье': { written: '1889-1899', published: 1900 },
      'Крейцерова соната': { written: '1889', published: 1891 },
      'Смерть Ивана Ильича': { written: '1882-1886', published: 1886 },
    },
    characters: {
      'Война и мир': ['Пьер Безухов', 'Наташа Ростова', 'Андрей Болконский', 'Николай Ростов'],
      'Анна Каренина': ['Анна Каренина', 'Алексей Вронский', 'Константин Левин', 'Кити'],
    },
    detailedFacts: [
      'Толстой родился 28 августа 1828 года в имении Ясная Поляна',
      'В 1851 служил офицером на Кавказе',
      'Участвовал в Крымской войне (1853-1856)',
      'Война и мир включает 600+ персонажей, описывает события 1812-1820 годов',
      'Анна Каренина считается одним из величайших романов в истории литературы',
      'В 1880-х годах Толстой прошел духовный кризис и обратился к религии',
      'Основал школу для крестьянских детей в Ясной Поляне',
      'Все счастливые семьи похожи одна на другую - самая известная фраза в литературе',
    ]
  },

  dostoevsky: {
    dates: {
      'Преступление и наказание': { written: '1866', published: 1866 },
      'Идиот': { written: '1868-1869', published: 1869 },
      'Братья Карамазовы': { written: '1879-1880', published: 1880 },
      'Демоны': { written: '1871-1872', published: 1872 },
      'Записки из подполья': { written: '1864', published: 1864 },
    },
    characters: {
      'Преступление и наказание': ['Раскольников', 'Соня Мармеладова', 'Порфирий Петрович', 'Наполеон'],
      'Братья Карамазовы': ['Иван Карамазов', 'Алеша Карамазов', 'Дмитрий Карамазов', 'Смердяков'],
    },
    detailedFacts: [
      'Достоевский родился 11 ноября 1821 года в Москве',
      'В 1849 году приговорен к смерти, но помилован на эшафоте',
      'Отбыл каторгу в Омской крепости (1850-1854)',
      'Преступление и наказание - первый психологический роман, 671 страница',
      'Великий инквизитор - поэма в составе Братьев Карамазовых, шедевр философской литературы',
      'Идиот - князь Мышкин считается воплощением доброты и сострадания',
      'Достоевский писал под большим психологическим и физическим напряжением',
      'Эпилепсия повлияла на его творчество и философию',
    ]
  },

  shakespeare: {
    dates: {
      'Гамлет': { written: '1600-1601', published: 1603 },
      'Макбет': { written: '1606', published: 1623 },
      'Ромео и Джульетта': { written: '1594-1596', published: 1597 },
      'Король Лир': { written: '1605-1606', published: 1608 },
      'Отелло': { written: '1603-1604', published: 1622 },
      'Сон в летнюю ночь': { written: '1595-1596', published: 1600 },
      'Буря': { written: '1610-1611', published: 1623 },
    },
    characters: {
      'Гамлет': ['Гамлет', 'Офелия', 'Клавдий', 'Гертруда', 'Горацио'],
      'Ромео и Джульетта': ['Ромео Монтекки', 'Джульетта Капулетти', 'Меркуцио', 'Петр'],
      'Король Лир': ['Король Лир', 'Корделия', 'Гонерилия', 'Регана', 'Глостер'],
    },
    detailedFacts: [
      'Шекспир родился 23 апреля 1564 года в Стратфорде-апон-Эйвоне',
      'Театр Глобус был его основным театром в Лондоне',
      'Написал 37 пьес: 10 трагедий, 17 комедий, 10 историй',
      'Написал 154 сонета, поэмы "Венера и Адонис" и "Луцреция"',
      'Гамлет - самая длинная пьеса, 4042 строк',
      'Умер 23 апреля 1616 года в возрасте 52 лет',
      'Его произведения переводились более чем на 100 языков',
      'Считается создателем современного английского языка',
    ]
  },

  cervantes: {
    dates: {
      'Дон Кихот': { written: '1604-1615', published: '1605, 1615' },
      'Новеллы примерные': { written: '1613', published: 1613 },
      'Галатея': { written: '1582-1584', published: 1585 },
    },
    characters: {
      'Дон Кихот': ['Алонсо Кихано (Дон Кихот)', 'Санчо Панса', 'Дульцинея дель Тобосо', 'Роцинант'],
      'Новеллы примерные': ['Граф Артоко', 'Камила', 'Лотарио', 'Цыганка Пресиоса'],
    },
    detailedFacts: [
      'Сервантес родился 29 сентября 1547 года в Алкале де Энаресе',
      'Был ранен при битве при Лепанто (1571) - потерял использование левой руки',
      'Был захвачен берберийскими пиратами и содержался в рабстве в Алжире 5 лет',
      'Дон Кихот считается первым современным романом, написанным в виде пародии на рыцарские романы',
      'Книга охватывает 2 000 000 слов, разделена на 126 частей и 152 главы',
      'Персонаж Дон Кихота стал символом невинного энтузиазма и идеализма',
      'Дон Кихот переведён на более чем 70 языков и является одной из наиболее читаемых книг',
      'Санчо Панса представляет здравый смысл в контрасте с фантазией Дон Кихота',
    ]
  },

  // ========== МИРОВАЯ ЛИТЕРАТУРА: ДРЕВНЯЯ ==========
  homer: {
    name: 'Гомер',
    period: '8 век до н.э.',
    nationality: 'Древняя Греция',
    facts: [
      'Гомер - легендарный древнегреческий поэт',
      'Авторство Гомера спорно, может быть несколько авторов (Гомеровский вопрос)',
      'Илиада: 15,693 строк, 24 песни',
      'Одиссея: 12,110 строк, 24 песни',
      'Илиада описывает Троянскую войну и героев Ахиллеса, Гектора, Приама',
      'Одиссея описывает путешествие Одиссея домой в течение 10 лет',
    ]
  },

  dante: {
    name: 'Данте Алигьери',
    years: '1265-1321',
    nationality: 'Италия',
    facts: [
      'Данте - основоположник итальянского литературного языка',
      'Божественная комедия написана в 1308-1320 годах',
      'Состоит из 100 песен: Ад (33) + Чистилище (33) + Рай (34)',
      'Вергилий ведёт Данте через Ад и Чистилище',
      'Беатриче ведёт Данте в Раю',
      'В Аду 9 кругов: Чревоугодие, Похоть, Алчность, Гнев, Лень, Зависть, Гордость, Ересь, Предательство',
      'Люцифер находится в самом центре Земли на дне Ада',
    ]
  },

  goethe: {
    name: 'Иоганн Вольфганг Гёте',
    years: '1749-1832',
    nationality: 'Германия',
    facts: [
      'Гёте - один из величайших немецких писателей и мыслителей',
      'Фауст - его главный труд, работал над ним 50 лет',
      'Фауст продал душу дьяволу за знание и опыт',
      'Мефистофель - противник Фауста',
      'Маргарита - возлюбленная Фауста',
      'Страдания молодого Вертера (1774) сделали Гёте известным',
      'Интересовался наукой, писал о теории цвета',
    ]
  },

  austen_literature: {
    name: 'Джейн Остен',
    years: '1775-1817',
    nationality: 'Англия',
    facts: [
      'Остен - пионер женского психологического романа',
      'Гордость и предубеждение (1813): Элизабет Беннет отвергает Мистера Дарси',
      'Основной вопрос - замужество и независимость женщины',
      'Писала о светском обществе Англии конца XVIII века',
      'Ирония и юмор - её главное оружие в критике общества',
      'Использовала свободный косвенный дискурс для психологического анализа',
    ]
  },

  hugo_literature: {
    name: 'Виктор Гюго',
    years: '1802-1885',
    nationality: 'Франция',
    facts: [
      'Гюго - лидер французского романтизма',
      'Собор Парижской Богоматери (1831): Квазимодо - человек без лица, не чудовище',
      'Отверженные (1862): эпический роман о социальной справедливости',
      'Жан Вальжан украл хлеб и провел 19 лет в тюрьме',
      'Фантина была продана в рабство; Козетта была сиротой',
      'Восстание на баррикадах во время Июльской революции',
      'Его произведения полны социальной критики и гуманизма',
    ]
  },

  balzac_literature: {
    name: 'Оноре де Бальзак',
    years: '1799-1850',
    nationality: 'Франция',
    facts: [
      'Бальзак создал амбициозный проект "Человеческая комедия" из 90+ романов',
      'Отец Горио (1835): история трёх молодых людей в Париже',
      'Растиньяк - честолюбец, который поднимается по социальной лестнице',
      'Вотрен - преступник с философией власти',
      'Отец Горио любит своих дочерей, но они его забывают',
      'Бальзак писал очень подробно о деньгах и социальных отношениях',
    ]
  },

  dickens_literature: {
    name: 'Чарльз Диккенс',
    years: '1812-1870',
    nationality: 'Англия',
    facts: [
      'Диккенс - мастер социального реализма с юмором',
      'Оливер Твист (1838): сирота просит ещё каши - символ социального насилия',
      'Рождественская песнь (1843): Скрудж видит своё прошлое, настоящее и будущее',
      'Большие надежды (1861): Пип становится джентльменом благодаря тайному благодетелю',
      'Два города (1859): "Это было лучшее из времён, это было худшее из времён"',
      'Диккенс использовал социальную критику в своих произведениях',
    ]
  },

  flaubert_literature: {
    name: 'Гюстав Флобер',
    years: '1821-1880',
    nationality: 'Франция',
    facts: [
      'Флобер - мастер реализма и поиска идеального стиля',
      'Госпожа Бовари (1856): первый великий реалистический роман',
      'Эмма Бовари - женщина с романтическими иллюзиями в суровом мире',
      'Эмма делает любовников, накапливает долги, в итоге травится мышьяком',
      'Флобер ценил стиль превыше всего: переписал предложения сотни раз',
      'Его произведения запрещались за "безнравственность"',
    ]
  },

  chekhov_literature: {
    name: 'Антон Павлович Чехов',
    years: '1860-1904',
    nationality: 'Россия',
    facts: [
      'Чехов - мастер драмы настроения и бытовой трагедии',
      'Вишневый сад (1903): конец старого мира помещиков',
      'Раневская не может продать свой сад - символ неспособности к переменам',
      'Лопахин - успешный купец, покупает сад и спиливает вишни',
      'Три сестры (1901): мечта уехать в Москву, которая не сбывается',
      'Чайка (1896): литературные честолюбия и любовные разочарования',
      'Дядя Ваня (1897): усталость, скука, сожаление о прожитых годах',
    ]
  },

  kafka_literature: {
    name: 'Франц Кафка',
    years: '1883-1924',
    nationality: 'Чехословакия (Прага)',
    facts: [
      'Кафка - пионер абсурдизма и отчуждения в литературе',
      'Процесс (1915): Йозеф К. судят без преступления',
      'Замок (1922): К. не может получить доступ в замок - символ бюрократии',
      'Превращение (1912): Грегор Замза становится насекомым',
      'Его произведения полны абсурда, невозможности и отчуждения',
      'Влиял на экзистенциализм',
    ]
  },

  joyce_literature: {
    name: 'Джеймс Джойс',
    years: '1882-1941',
    nationality: 'Ирландия',
    facts: [
      'Джойс - революционер модернизма',
      'Улисс (1922): один из самых сложных и влиятельных романов XX века',
      'Действие происходит в один день: 16 июня 1904 года, Дублин',
      'Леопольд Блум - еврей, его путешествие параллельно Одиссее Гомера',
      'Молли Блум - его жена, известна её монолог в конце романа',
      'Джойс использовал поток сознания, игру слов, множество языков',
      'Портрет художника в юности (1916): развитие молодого художника',
    ]
  },

  woolf_literature: {
    name: 'Вирджиния Вулф',
    years: '1882-1941',
    nationality: 'Англия',
    facts: [
      'Вулф - пионер модернизма и женского сознания в литературе',
      'Госпожа Дэллоуэй (1925): один день жизни женщины в Лондоне',
      'На маяк (1927): семья путешествует к маяку; три части - время и смерть',
      'Вулф использовала поток сознания и множественные точки зрения',
      'Её письмо "Комната собственная" - манифест женской независимости',
      'Страдала психическими заболеваниями; утопилась в 1941 году',
    ]
  },

  faulkner_literature: {
    name: 'Уильям Фолкнер',
    years: '1897-1962',
    nationality: 'США (американский юг)',
    facts: [
      'Фолкнер создал вымышленное графство Йокнапатофа, символ американского юга',
      'Звук и ярость (1929): история распада семьи Компсонов',
      'Четыре рассказчика с разными сознаниями рассказывают историю',
      'Отвалившийся сарай (1939): группа фермеров везёт труп госпожи Бундрен',
      'Фолкнер фрагментирует повествование, используя множественные перспективы',
      'Его произведения исследуют моральный упадок американского юга',
    ]
  },

  hemingway_literature: {
    name: 'Эрнест Хемингуэй',
    years: '1899-1961',
    nationality: 'США',
    facts: [
      'Хемингуэй - мастер минимализма и лаконичной прозы',
      'По ком звонит колокол (1940): американские добровольцы в Гражданской войне Испании',
      'Старик и море (1952): рыбак Сантьяго борется с рыбой и акулами',
      'Старик говорит: "Человека можно уничтожить, но его нельзя победить"',
      'Прощай, оружие (1929): любовь во время Первой мировой войны',
      'Его стиль: короткие предложения, простые слова, огромная глубина',
      'Часто использовал "айсберг метафору" - видно только верхушку, остальное под водой',
    ]
  },

  marquez_literature: {
    name: 'Габриэль Гарсиа Маркес',
    years: '1927-2014',
    nationality: 'Колумбия',
    facts: [
      'Маркес - создатель магического реализма',
      'Сто лет одиночества (1967): история семьи Буэндиа в городке Макондо',
      'Семь поколений семьи Буэндиа повторяют одни и те же имена и судьбы',
      'Живые люди поднимаются на небо, привидения живут с живыми',
      'Макондо - символ Латинской Америки, изолированный от внешнего мира',
      'Война продолжается на протяжении всей истории, её причины забыты',
      'Книга считается одной из величайших романов XX века',
      'Любовь во время холеры (1985): 50-летняя неразделённая любовь',
    ]
  },

  borges_literature: {
    name: 'Хорхе Луис Борхес',
    years: '1899-1986',
    nationality: 'Аргентина',
    facts: [
      'Борхес - философ-писатель, мастер минатюр',
      'Сад расходящихся тропок (1941): лаборинт времени и выборов',
      'Вавилонская библиотека: бесконечная библиотека со всеми возможными книгами',
      'Алеф: точка пространства, где видно всё вселенное',
      'Борхес писал о литературе, истории, философии, вымышленных авторах',
      'Его произведения часто короче 10 страниц, но полны идей',
    ]
  },

  morrison_literature: {
    name: 'Тони Моррисон',
    years: '1931-2019',
    nationality: 'США',
    facts: [
      'Моррисон - первая афроамериканская нобелиантка (1993)',
      'Возлюбленная (1987): история рабыни Ситы, убившей дочь',
      'Дух мёртвой дочери Возлюбленной живёт с Ситой',
      'Моррисон использовала поэтическую прозу и нелинейное повествование',
      'Её произведения исследуют травму рабства и афроамериканскую идентичность',
      'Песнь Соломона (1977): магический реализм в афроамериканской культуре',
    ]
  },

  // ========== КРАТКИЕ ФАКТЫ О ЛИТЕРАТУРНЫХ ПЕРИОДАХ И ЖАНРАХ ==========
  literary_history: {
    ancient_literature: 'Греческая трагедия (Софокл, Эсхил, Еврипид), Гомер (Илиада, Одиссея), Данте',
    renaissance: 'Шекспир, Мольер, Возрождение, гуманизм',
    enlightenment: 'Разум, логика, философия, социальная критика',
    romanticism: 'Эмоция, природа, революция, индивидуальность',
    realism: 'Объективное изображение, социальная критика, психология',
    modernism: 'Экспериментальная форма, поток сознания, отчуждение',
    magic_realism: 'Фантастическое как норма, миф и реальность',
  }
};

// Система отслеживания обучений
export const learningSystem = {
  trackCorrection: (userId, writerId, userMessage, correction, timestamp) => {
    return {
      userId,
      writerId,
      userMessage,
      correction,
      timestamp,
      priority: 'high',
      used: false
    };
  },

  generateLearningPrompt: (corrections) => {
    if (corrections.length === 0) return '';
    
    let prompt = 'CRITICAL LEARNING MATERIAL - USER PROVIDED CORRECTIONS:\n\n';
    corrections.forEach((c, idx) => {
      prompt += `${idx + 1}. USER MESSAGE: "${c.userMessage}"\n`;
      prompt += `   CORRECT ANSWER: "${c.correction}"\n`;
      prompt += `   IMPORTANCE: Critical - use this in future responses\n\n`;
    });
    
    prompt += 'INSTRUCTIONS:\n';
    prompt += '- These corrections are HIGH PRIORITY\n';
    prompt += '- Remember these facts when answering similar questions\n';
    prompt += '- Apply this knowledge in your responses\n';
    prompt += '- Do NOT repeat the mistakes mentioned\n';
    
    return prompt;
  },

  verifyFact: (fact, writerId, knownFacts) => {
    // Проверяет, похожа ли ошибка на известные факты
    for (const known of knownFacts) {
      if (fact.includes(known) || known.includes(fact)) {
        return { isValid: true, matchingFact: known };
      }
    }
    return { isValid: false };
  }
};
